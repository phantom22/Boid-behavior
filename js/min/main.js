function k(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:k(a)};for(var f=[];!(b=a.next()).done;)f.push(b.value);a=f}return a}function m(a,b){this.x=a;this.y=b}function n(a,b){return new m(a.x+b.x,a.y+b.y)}var p=new m(0,0),q=new m(0,1),r=new m(0,-1),t=new m(1,0),u=new m(-1,0);Object.freeze(m);Object.freeze(p);Object.freeze(q);Object.freeze(r);
Object.freeze(t);Object.freeze(u);function v(a){var b=document.querySelector("#canvas-output");b.width=1800;b.height=800;b.style.width=1800;b.style.height=800;this.canvas=b;this.i=this.canvas.getContext("2d");this.m=a;this.g=new m(1800,800);this.l()}v.prototype.clear=function(){this.i.fillStyle="black";this.i.fillRect(0,0,this.g.x,this.g.y)};v.prototype.l=function(){this.m(this);requestAnimationFrame(this.l.bind(this))};
function w(){var a=this.j=x.g;this.h=new m(a.x/2,a.y/2);this.angle=new m(-10*Math.random()+5,-10*Math.random()+5)}w.prototype.move=function(){var a=n(this.h,new m(.64*this.angle.x,.64*this.angle.y));if(0>a.x||a.x>this.j.x||0>a.y||a.y>this.j.y){a=this.h;var b=this.j;this.h=new m(Math.max(p.x,Math.min(a.x,b.x)),Math.max(p.y,Math.min(a.y,b.y)));this.angle=new m(-2*Math.random()+1,-2*Math.random()+1)}else this.h=a};
for(var y=[],z=[],A=[],x=new v(function(a){var b=a.g.x/15,f=a.g.y/15;a.i.fillStyle="rgba(0, 0, 0, 0.05)";a.i.fillRect(0,0,a.g.x,a.g.y);z=[];A=[];var d=1/(a.g.x/b);f=1/(a.g.y/f);for(var h=0;h<y.length;h++){var e=y[h].h;y[h].move();var c=y[h].h,g=Math.floor(Math.floor(e.y*f)*b+Math.floor(e.x*d));"undefined"==typeof z[g]&&(z[g]=0);z[g]+=1;A[h]=g;if(e.x!=c.x||e.y!=c.y)g=a.i,g.strokeStyle="white",g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(c.x,c.y),g.stroke()}for(a=0;a<y.length;a++){e=A[a];h=f=d=void 0;e=
[e+b+1,e+b,e+b-1,e-1,e-b-1,e-b,e-b+1,e+1];c=y[a].angle;g=180/Math.PI*Math.atan2(c.x,c.y);c=0>c.x?360- -1*g:g;292.5<c&&337.5>=c?(h=0,f=[e[7]].concat(l(e.slice(0,2)))):337.5<c||22.5>=c?(h=1,f=e.slice(0,3)):22.5<c&&67.5>=c?(h=2,f=e.slice(1,4)):67.5<c&&112.5>=c?(h=3,f=e.slice(2,5)):112.5<c&&157.5>=c?(h=4,f=e.slice(3,6)):157.5<c&&202.5>=c?(h=5,f=e.slice(4,7)):202.5<c&&247.5>=c?(h=6,f=e.slice(5)):247.5<c&&292.5>=c&&(h=7,f=[].concat(l(e.slice(6)),[e[0]]));for(c=e=0;c<f.length;c++)g=z[f[c]],"number"==typeof g&&
g>e&&(e=g,d=h+c-1);d=-1===d?7:d;f=h;d=8===d?0:d;if("number"==typeof d&&f!=d){f=7===f+d?7===d?1:-1:d<f?1:-1;switch(d){case 0:d=[13,-6.5];break;case 1:d=[13,6.5];break;case 2:d=[6.5,13];break;case 3:d=[-6.5,13];break;case 4:d=[-13,6.5];break;case 5:d=[-13,-6.5];break;case 6:d=[-6.5,-13];break;case 7:d=[6.5,-13];break;default:d=[0,0]}d=new m(d[0]*f,d[1]*f);f=.016*Math.random();y[a].angle=n(y[a].angle,new m(d.x*f,d.y*f))}}}),B=0;2E3>B;B++)y.push(new w);