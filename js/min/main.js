
/* 
 * https://closure-compiler.appspot.com/home
 * @compilation_level ADVANCED_OPTIMIZATIONS
 */
var m={query:"#canvas-output",g:[1800,900],u:200,G:1},f={count:3E3,l:[[0,0],m.g],h:[m.g[0]/2,m.g[1]/2],angle:[0, 1],speed:300,J:1,j:"#e0ccff #d1b3ff #c299ff #b380ff #a366ff #944dff #8533ff #751aff #6600ff #5c00e6 #5200cc #4700b3 #3d0099 #330080 #290066 #1f004d #140033".split(" "),v:0,I:0};
function d(a,b){return[a,b]}d.o=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))};d.add=function(a,b){return[a[0]+b[0],a[1]+b[1]]};
d.D=function(a,b){return a[0]*b[0]+a[1]*b[1]};d.B=function(a,b,n){return[Math.max(b[0],Math.min(a[0],n[0])),Math.max(b[1],Math.min(a[1],n[0]))]};d.H=function(){var a=f.h[0],b=f.h[1];return[Math.random()*(b[0]-a[0])+a[0],Math.random()*(b[0]-a[1])+a[1]]};Object.freeze(d);
function q(a){var b=document.querySelector(m.query);b.width=m.g[0];b.height=m.g[1];b.style.width=m.g[0];b.style.height=m.g[1];this.canvas=b;this.m=this.canvas.getContext("2d");this.A=a;this.g=m.g;this.i=[];for(a=0;a<f.count;a++)this.i.push(new t);this.s()}q.prototype.clear=function(){this.m.fillStyle="black";this.m.fillRect(0,0,this.g[0],this.g[1])};q.prototype.s=function(){this.A(this);requestAnimationFrame(this.s.bind(this))};
function t(){this.l=f.l;this.h=Array.isArray(f.h[0])&&Array.isArray(f.h[1])?d.H():f.h;this.angle=Array.isArray(f.angle)?Math.random()*(f.angle[1]-f.angle[0])+f.angle[0]:f.angle;this.j=f.j;this.color="number"===typeof f.v?this.j[f.v]:this.j[Math.floor(Math.random()*f.j.length)]}
t.prototype.move=function(){var a=d.add(this.h,[Math.cos(this.angle)*f.speed*.016,Math.sin(this.angle)*f.speed*.016]),b=a[0]<this.l[0][0]||a[0]>this.l[1][0],n=a[1]<this.l[0][1]||a[1]>this.l[1][1];b||n?(this.h=d.B(this.h,this.l[0],this.l[1]),this.angle=b?Math.PI-this.angle:2*Math.PI-this.angle,a=this.j.indexOf(this.color),a=a+1===this.j.length?0:a+1,this.color=this.j[a]):this.h=a};var u=[];
new q(function(a){a.M=[];var b=a.g[0]/m.u,n=1/(a.g[0]/b),v=1/(a.g[1]/(a.g[1]/m.u));a.m.fillStyle="rgba(0, 0, 0, "+f.I+")";a.m.fillRect(0,0,a.g[0],a.g[1]);for(var p=0;p<a.i.length;p++){var r=a.i[p].h,c=Math.floor(Math.floor(r[1]*v)*b+Math.floor(r[0]*n));"undefined"==typeof u[c]&&(u[c]=0);u[c]+=1;var k=void 0,g=void 0,l=void 0,h=a.i[p].angle,e=m.G;c=[e+c-e,e+c-b*e-e,e+c-b*e,e+c-b*e+e,e+c+e,e+c+b*e-e,e+c+b*e,e+c+b*e+e];5.105<h&&5.89>=h?(l=0,g=[c[7],c[0],c[1]]):5.89<h||.392>=h?(l=1,g=[c[0],c[1],c[2]]):
.392<h&&1.178>=h?(l=2,g=[c[1],c[2],c[3]]):1.178<h&&1.963>=h?(l=3,g=[c[2],c[3],c[4]]):1.963<h&&2.748>=h?(l=4,g=[c[3],c[4],c[5]]):2.748<h&&3.534>=h?(l=5,g=[c[4],c[5],c[6]]):3.534<h&&4.319>=h?(l=6,g=[c[5],c[6],c[7]]):4.319<h&&5.105>=h&&(l=7,g=[c[6],c[7],c[0]]);for(c=h=0;3>c;c++)e=u[g[c]],"number"==typeof e&&e>h&&(h=e,k=l+c-1);k=-1===k?7:k;k=8===k?0:k;g=7===l+k?7===k?1:-1:k<l?1:-1;"number"==typeof k&&l!=k&&(a.i[p].angle+=f.J*g*.016*Math.random());a.i[p].move();k=a.i[p].h;l=a.i[p].color;g=a.m;g.lineCap=
"round";g.lineJoin="round";g.strokeStyle=l;g.beginPath();g.moveTo(r[0],r[1]);g.lineTo(k[0],k[1]);g.stroke()}});