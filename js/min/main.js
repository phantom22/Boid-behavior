function b(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}function k(a){if(!(a instanceof Array)){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=c?c.call(a):{next:b(a)};for(var e=[];!(c=a.next()).done;)e.push(c.value);a=e}return a}function m(a,c){if("number"!=typeof a||"number"!=typeof c)throw Error("expected two arguments of type 'number', got '"+typeof a+", "+typeof c+"'");this.x=a;this.y=c}
function n(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}m.prototype={normalize:function(){var a=n(this);return 0!=a?m.A(this,m.j(a)):m.j(0)},floor:function(){return new m(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return new m(Math.ceil(this.x),Math.ceil(this.y))},round:function(){return new m(Math.round(this.x),Math.round(this.y))}};m.j=function(a){return new m(a,a)};m.add=function(a,c){return new m(a.x+c.x,a.y+c.y)};m.multiply=function(a,c){return new m(a.x*c.x,a.y*c.y)};
m.A=function(a,c){return new m(a.x/c.x,a.y/c.y)};m.B=function(a,c){return a.x*c.x+a.y*c.y};m.v=function(a,c){var e=m.o;return new m(Math.max(e.x,Math.min(a.x,c.x)),Math.max(e.y,Math.min(a.y,c.y)))};m.random=function(a,c){return new m(Math.random()*(c-a)+a,Math.random()*(c-a)+a)};m.angle=function(a,c){var e=Math.acos(m.B(a,c)/(n(a)*n(c)));return isNaN(e)?0:e};m.s=function(a){var c=180/Math.PI*Math.atan2(a.x,a.y);return 0>a.x?360- -1*c:c};m.o=new m(0,0);m.D=new m(0,1);m.C=new m(0,-1);
m.right=new m(1,0);m.left=new m(-1,0);Object.freeze(m);Object.freeze(m.o);Object.freeze(m.D);Object.freeze(m.C);Object.freeze(m.right);Object.freeze(m.left);function p(a){var c=document.querySelector("#canvas-output");c.width=600;c.height=600;c.style.width=600;c.style.height=600;this.canvas=c;this.i=this.canvas.getContext("2d");this.u=a;this.g=new m(600,600);this.m()}p.prototype.clear=function(){this.i.fillStyle="black";this.i.fillRect(0,0,this.g.x,this.g.y)};
p.prototype.m=function(){this.u(this);requestAnimationFrame(this.m.bind(this))};function q(){this.l=r.g;this.h=new m(r.g.x/2,r.g.y/2);this.angle=new m(5,5)}q.prototype.move=function(){var a=m.add(this.h,new m(.64*this.angle.x,.64*this.angle.y));0>a.x||a.x>this.l.x||0>a.y||a.y>this.l.y?(this.h=m.v(this.h,this.l),this.angle=m.random(1,-1)):this.h=a};
for(var t=[],u=[],v=[],r=new p(function(a){var c=a.g.x/20,e=a.g.y/20;a.i.fillStyle="rgba(0, 0, 0, 0.04)";a.i.fillRect(0,0,a.g.x,a.g.y);u=[];v=[];var f=1/(a.g.x/c);e=1/(a.g.y/e);for(var d=0;d<t.length;d++){var g=t[d].h;t[d].move();var l=t[d].h,h=Math.floor(Math.floor(g.y*e)*c+Math.floor(g.x*f));"undefined"==typeof u[h]&&(u[h]=0);u[h]+=1;v[d]=h;if(g.x!=l.x||g.y!=l.y)h=a.i,h.strokeStyle="white",h.beginPath(),h.moveTo(g.x,g.y),h.lineTo(l.x,l.y),h.stroke()}for(a=0;a<t.length;a++){d=m.s(t[a].angle);f=v[a];
g=[f+c+1,f+c,f+c-1,f-1,f-c-1,f-c,f-c+1,f+1];e=f=void 0;292.5<d&&337.5>=d?(f=7,e=[g[7]].concat(k(g.slice(0,2)))):337.5<d||22.5>=d?(f=0,e=g.slice(0,3)):22.5<d&&67.5>=d?(f=1,e=g.slice(1,4)):67.5<d&&112.5>=d?(f=2,e=g.slice(2,5)):112.5<d&&157.5>=d?(f=3,e=g.slice(3,6)):157.5<d&&202.5>=d?(f=4,e=g.slice(4,7)):202.5<d&&247.5>=d?(f=5,e=g.slice(5)):247.5<d&&292.5>=d&&(f=6,e=[].concat(k(g.slice(6)),[g[0]]));g=0;d=-5;for(l=-1;l<e.length;l++)h=u[e[l]],"number"==typeof h&&h>g&&(g=h,d=f+l);d=-1==d?7:d;d=7<d?d-8:
d;if(-5!=d&&f!=d){e=void 0;switch(d){case 0:e=new m(0,7);break;case 1:e=new m(-7,0);break;case 2:e=new m(-7,0);break;case 3:e=new m(0,-7);break;case 4:e=new m(0,-7);break;case 5:e=new m(-7,0);break;case 6:e=new m(7,0);break;case 7:e=new m(0,7)}f=m.multiply(m.j(.016*(d>f?-1:1)),m.random(0,1.5));t[a].angle=m.add(t[a].angle,m.multiply(e,f))}}}),w=0;2E3>w;w++)t.push(new q);