
/* 
 * https://closure-compiler.appspot.com/home
 * @compilation_level ADVANCED_OPTIMIZATIONS
 */
function d(a,b){return[a,b]}d.o=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))};d.normalize=function(a){var b=d.o(a);return 0!=b?d.C(a,b):[0,0]};d.floor=function(a){return[Math.floor(a[0]),Math.floor(a[1])]};d.ceil=function(a){return[Math.ceil(a[0]),Math.ceil(a[1])]};d.round=function(a){return[Math.round(a[0]),Math.round(a[1])]};d.add=function(a,b){return[a[0]+b[0],a[1]+b[1]]};d.multiply=function(a,b){return[a[0]*b[0],a[1]*b[1]]};d.C=function(a,b){return[a[0]/b,a[1]/b]};
d.D=function(a,b){return a[0]*b[0]+a[1]*b[1]};d.s=function(a,b,p){return[Math.max(b[0],Math.min(a[0],p[0])),Math.max(b[1],Math.min(a[1],p[0]))]};d.random=function(a,b){return[Math.random()*(b-a)+a,Math.random()*(b-a)+a]};d.H=function(){var a=f.h[0],b=f.h[1];return[Math.random()*(b[0]-a[0])+a[0],Math.random()*(b[0]-a[1])+a[1]]};d.angle=function(a,b){var p=Math.acos(d.D(a,b)/(d.o(a)*d.o(b)));return isNaN(p)?0:p};d.L=[0,0];d.K=[0,1];d.F=[0,-1];d.right=[1,0];d.left=[-1,0];Object.freeze(d);Object.freeze(d.L);
Object.freeze(d.K);Object.freeze(d.F);Object.freeze(d.right);Object.freeze(d.left);var m={query:"#canvas-output",g:[1800,900],v:200,G:1},f={count:5E3,j:[[0,0],m.g],h:[m.g[0]/2,m.g[1]/2],angle:Math.PI / 3,speed:300,J:2,i:"#ff8080 #ff9f80 #ffbf80 #ffdf80 #ffff80 #dfff80 #bfff80 #9fff80 #80ff80 #80ff9f #80ffbf #80ffdf #80ffff #80dfff #80bfff #809fff #8080ff #9f80ff #bf80ff #df80ff #ff80ff #ff80df #ff80bf #ff809f #ff8080".split(" "),A:0,I:0};
function q(a){var b=document.querySelector(m.query);b.width=m.g[0];b.height=m.g[1];b.style.width=m.g[0];b.style.height=m.g[1];this.canvas=b;this.m=this.canvas.getContext("2d");this.B=a;this.g=m.g;this.l=[];for(a=0;a<f.count;a++)this.l.push(new t);this.u()}q.prototype.clear=function(){this.m.fillStyle="black";this.m.fillRect(0,0,this.g[0],this.g[1])};q.prototype.u=function(){this.B(this);requestAnimationFrame(this.u.bind(this))};
function t(){this.j=f.j;this.h=Array.isArray(f.h[0])&&Array.isArray(f.h[1])?d.H():f.h;this.angle=Array.isArray(f.angle)?Math.random()*(f.angle[1]-f.angle[0])+f.angle[0]:f.angle;this.i=f.i;this.color="number"===typeof f.A?this.i[f.A]:this.i[Math.floor(Math.random()*f.i.length)]}
t.prototype.move=function(){var a=d.add(this.h,[Math.cos(this.angle)*f.speed*.016,Math.sin(this.angle)*f.speed*.016]);a[0]<this.j[0][0]||a[0]>this.j[1][0]?(this.h=d.s(this.h,this.j[0],this.j[1]),this.angle=2*-this.angle,a=this.i.indexOf(this.color),a=a+1===this.i.length?0:a+1,this.color=this.i[a]):a[1]<this.j[0][1]||a[1]>this.j[1][1]?(this.h=d.s(this.h,this.j[0],this.j[1]),this.angle=-this.angle+.12*Math.random()-.12,a=this.i.indexOf(this.color),a=a+1===this.i.length?0:a+1,this.color=this.i[a]):this.h=
a};var u=[];
new q(function(a){a.M=[];var b=a.g[0]/m.v,p=1/(a.g[0]/b),v=1/(a.g[1]/(a.g[1]/m.v));a.m.fillStyle="rgba(0, 0, 0, "+f.I+")";a.m.fillRect(0,0,a.g[0],a.g[1]);for(var n=0;n<a.l.length;n++){var r=a.l[n].h,c=Math.floor(Math.floor(r[1]*v)*b+Math.floor(r[0]*p));"undefined"==typeof u[c]&&(u[c]=0);u[c]+=1;var k=void 0,g=void 0,l=void 0,h=a.l[n].angle,e=m.G;c=[e+c-e,e+c-b*e-e,e+c-b*e,e+c-b*e+e,e+c+e,e+c+b*e-e,e+c+b*e,e+c+b*e+e];5.105<h&&5.89>=h?(l=0,g=[c[7],c[0],c[1]]):5.89<h||.392>=h?(l=1,g=[c[0],c[1],c[2]]):
.392<h&&1.178>=h?(l=2,g=[c[1],c[2],c[3]]):1.178<h&&1.963>=h?(l=3,g=[c[2],c[3],c[4]]):1.963<h&&2.748>=h?(l=4,g=[c[3],c[4],c[5]]):2.748<h&&3.534>=h?(l=5,g=[c[4],c[5],c[6]]):3.534<h&&4.319>=h?(l=6,g=[c[5],c[6],c[7]]):4.319<h&&5.105>=h&&(l=7,g=[c[6],c[7],c[0]]);for(c=h=0;3>c;c++)e=u[g[c]],"number"==typeof e&&e>h&&(h=e,k=l+c-1);k=-1===k?7:k;k=8===k?0:k;g=7===l+k?7===k?1:-1:k<l?1:-1;"number"==typeof k&&l!=k&&(a.l[n].angle+=f.J*g*.016*Math.random());a.l[n].move();k=a.l[n].h;l=a.l[n].color;g=a.m;g.lineCap=
"round";g.lineJoin="round";g.strokeStyle=l;g.beginPath();g.moveTo(r[0],r[1]);g.lineTo(k[0],k[1]);g.stroke()}});