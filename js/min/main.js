function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:c(a)};for(var e=[];!(b=a.next()).done;)e.push(b.value);a=e}return a}function l(a,b){if("number"!=typeof a||"number"!=typeof b)throw Error("expected two arguments of type 'number', got '"+typeof a+", "+typeof b+"'");this.x=a;this.y=b}
function m(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}l.prototype={normalize:function(){var a=m(this);return 0!=a?l.A(this,l.j(a)):l.j(0)},floor:function(){return new l(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return new l(Math.ceil(this.x),Math.ceil(this.y))},round:function(){return new l(Math.round(this.x),Math.round(this.y))}};l.j=function(a){return new l(a,a)};l.add=function(a,b){return new l(a.x+b.x,a.y+b.y)};l.multiply=function(a,b){return new l(a.x*b.x,a.y*b.y)};
l.A=function(a,b){return new l(a.x/b.x,a.y/b.y)};l.B=function(a,b){return a.x*b.x+a.y*b.y};l.v=function(a,b){var e=l.m;return new l(Math.max(e.x,Math.min(a.x,b.x)),Math.max(e.y,Math.min(a.y,b.y)))};l.random=function(a,b){return new l(Math.random()*(b-a)+a,Math.random()*(b-a)+a)};l.D=function(a){var b=l.m;return new l(Math.random()*(a.x-b.x)+b.x,Math.random()*(a.y-b.y)+b.y)};l.angle=function(a,b){var e=Math.acos(l.B(a,b)/(m(a)*m(b)));return isNaN(e)?0:e};
l.s=function(a){var b=180/Math.PI*Math.atan2(a.x,a.y);return 0>a.x?360- -1*b:b};l.m=new l(0,0);l.F=new l(0,1);l.C=new l(0,-1);l.right=new l(1,0);l.left=new l(-1,0);Object.freeze(l);Object.freeze(l.m);Object.freeze(l.F);Object.freeze(l.C);Object.freeze(l.right);Object.freeze(l.left);function n(a){var b=document.querySelector("#canvas-output");b.width=900;b.height=900;b.style.width=900;b.style.height=900;this.canvas=b;this.i=this.canvas.getContext("2d");this.u=a;this.g=new l(900,900);this.o()}
n.prototype.clear=function(){this.i.fillStyle="black";this.i.fillRect(0,0,this.g.x,this.g.y)};n.prototype.o=function(){this.u(this);requestAnimationFrame(this.o.bind(this))};function p(){var a=q.g;this.l=a;this.h=l.D(a);this.angle=l.random(1,-1)}p.prototype.move=function(){var a=l.add(this.h,new l(.48*this.angle.x,.48*this.angle.y));0>a.x||a.x>this.l.x||0>a.y||a.y>this.l.y?(this.h=l.v(this.h,this.l),this.angle=l.random(1,-1)):this.h=a};
for(var r=[],t=[],u=[],q=new n(function(a){a.i.fillStyle="rgba(0, 0, 0, 0.05)";a.i.fillRect(0,0,a.g.x,a.g.y);t=[];u=[];for(var b=1/(a.g.x/300),e=1/(a.g.y/270),d=0;d<r.length;d++){var f=r[d].h;r[d].move();var k=r[d].h,g=Math.floor(300*Math.floor(f.y*e)+Math.floor(f.x*b));"undefined"==typeof t[g]&&(t[g]=0);t[g]+=1;u[d]=g;if(f.x!=k.x||f.y!=k.y)g=a.i,g.strokeStyle="white",g.beginPath(),g.moveTo(f.x,f.y),g.lineTo(k.x,k.y),g.stroke()}for(a=0;a<r.length;a++){d=l.s(r[a].angle);b=u[a];f=[b+300+1,b+300,b+300-
1,b-1,b-300-1,b-300,b-300+1,b+1];e=b=void 0;337.5<=d||22.5>=d?(b=0,e=f.slice(0,3)):22.5<=d&&67.5>=d?(b=1,e=f.slice(1,4)):67.5<=d&&112.5>=d?(b=2,e=f.slice(2,5)):112.5<=d&&157.5>=d?(b=3,e=f.slice(3,6)):157.5<=d&&202.5>=d?(b=4,e=f.slice(4,7)):202.5<=d&&247.5>=d?(b=5,e=f.slice(5)):247.5<=d&&292.5>=d?(b=6,e=[].concat(h(f.slice(6)),[f[0]])):292.5<=d&&337.5>=d&&(b=7,e=[f[7]].concat(h(f.slice(0,2))));f=0;d=-1;for(k=0;k<e.length;k++)g=t[e[k]],"number"==typeof g&&g>f&&(f=g,d=b+k);d=7<d?d-8:d;if(-1!=d&&b!=d){b=
void 0;switch(d){case 0:b=new l(16,16);break;case 1:b=new l(0,16);break;case 2:b=new l(-16,16);break;case 3:b=new l(-16,0);break;case 4:b=new l(-16,-16);break;case 5:b=new l(0,-16);break;case 6:b=new l(16,-16);break;case 7:b=new l(16,0)}e=l.j(.016);r[a].angle=l.add(r[a].angle,l.multiply(b,e))}}}),v=0;2E3>v;v++)r.push(new p);